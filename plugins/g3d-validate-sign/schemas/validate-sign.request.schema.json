{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://blind.local/plugins/g3d-validate-sign/schemas/validate-sign.request.schema.json",
  "title": "POST /validate-sign request",
  "type": "object",
  "required": [
    "schema_version",
    "snapshot_id",
    "producto_id",
    "state",
    "locale"
  ],
  "properties": {
    "schema_version": {
      "type": "string",
      "$comment": "SemVer requerido. TODO: Definir validación exacta según docs/Capa 3 — Validación, Firma Y Caducidad — Actualizada (slots Abiertos) — V2 (urls).md (Compatibilidad y versionado)."
    },
    "snapshot_id": {
      "type": "string",
      "$comment": "ID de snapshot publicado. Ver docs/plugin-3-g3d-validate-sign.md §6.1 y docs/Capa 1 Identificadores Y Naming — Actualizada (slots Abiertos).md."
    },
    "producto_id": {
      "type": "string",
      "$comment": "ID estable de producto según docs/Capa 1 Identificadores Y Naming — Actualizada (slots Abiertos).md."
    },
    "state": {
      "type": "object",
      "$comment": "Estado serializado pieza→mat→modelo→col→tex→fin según docs/plugin-3-g3d-validate-sign.md §6.1. TODO: Detallar estructura exacta."
    },
    "locale": {
      "type": "string",
      "$comment": "Locale de la petición. TODO: Definir lista permitida según docs/Capa 3 — Validación, Firma Y Caducidad — Actualizada (slots Abiertos) — V2 (urls).md."
    },
    "flags": {
      "$comment": "Campo opcional (flags?) indicado en docs/plugin-3-g3d-validate-sign.md §6.1. TODO: Definir estructura."
    }
  },
  "additionalProperties": true
}
